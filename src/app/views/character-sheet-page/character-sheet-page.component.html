<ng-container *ngIf="loaded; else loading">
  <div class="sheet-container">
    <ng-component *ngIf="isMobile; then mobile else desktop"/>
  </div>
</ng-container>

<ng-template #desktop>
  <div cdkDropList class="grid" (cdkDropListDropped)="onDrop($event)" cdkDropListOrientation="horizontal">
    <div class="block-container"> 
      <app-info-block [hero]="hero" class="block" />
    </div>
    <div *ngFor="let block of blocks" class="block-container" cdkDrag>
      <ng-template *ngComponentOutlet="blockMap.get(block)!; inputs: {hero: hero}" />
      <div class="drag-header">
        <div cdkDragHandle class="drag-handle">
          <mat-icon>open_with</mat-icon>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #mobile>
  <div class="grid mobile" (swipeleft)="mobileOnSwipeLeft()" (swiperight)="mobileOnSwipeRight()">
    <div class="block-container">
      <ng-template *ngComponentOutlet="getActiveComponent(); inputs: {hero: hero}" />
    </div>
  </div>
  <div class="tabs">

  </div>
</ng-template>

<ng-template #loading>
  <div class="spinner-container">
    <mat-spinner />
  </div>
</ng-template>
