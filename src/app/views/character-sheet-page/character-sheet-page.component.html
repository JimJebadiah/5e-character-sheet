<ng-container *ngIf="loaded; else loading">
  <div class="sheet-container">
    <div cdkDropList class="grid" (cdkDropListDropped)="onDrop($event)" cdkDropListOrientation="horizontal">
      <div class="block-container"> 
        <app-info-block [hero]="hero" class="block" />
      </div>
      <div *ngFor="let block of blocks" class="block-container" cdkDrag>
        <ng-template *ngComponentOutlet="blockMap.get(block)!; inputs: {hero: hero}" />
        <div class="drag-header">
          <div cdkDragHandle class="drag-handle">
            <mat-icon>open_with</mat-icon>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <div class="spinner-container">
    <mat-spinner />
  </div>
</ng-template>
